@model UniEat.Models.DishesDbModel

@{
    ViewData["Title"] = "Create Dishes";
}


<form asp-controller="UniEatAdmin" asp-action="addDishToDB">
    <div class="card">
        <div class="card-header">
           <h1 class="accordion-body">Hier werden gerichte in die Datenbank eingetragen</h1>
        </div>
        <div class="card-body">
            <input hidden asp-for="Id" />
            
            <div class="row">
                <input class="text-body" asp-for="NameOfDish" type="text" placeholder="Gib den Namen des Gerichtes ein!" />
            </div>
            <div class="row-8">
                <div class="col">
                    <input type="checkbox" asp-for="Beef" accept="False" /> Beef
                </div>
                <div class="col">
                    <input type="checkbox" asp-for="Pork" accept="False"/> Pork
                </div>
                <div class="col">
                    <input type="checkbox" asp-for="Chicken" accept="False"/> Chicken
                </div>
                <div class="col">
                    <input type="checkbox" asp-for="Veggie" accept="False"/> Veggie
                </div>
                <div class="col">
                    <input type="checkbox" asp-for="Fish" accept="False"/> Fish
                </div>
            </div>

        </div>
        <div class="card-footer">
            <button onclick="onClickConfirm()" class="btn btn-primary">Submit</button>
        </div>
            


    </div>
</form>

@section Scripts{
    <script>
        function onClickConfirm() {
            Swal.fire({
                title: "Bist du dir Sicher?",
                text: "Das kann nicht Rückgängig gemacht werden!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                cancelButtonText: "Abbrechen",
                confirmButtonText: "Ja, tu es!"
            }).then((result) => {
                if (result.isConfirmed) {
                    $.ajax({
                        type: "POST",
                        url: "@Url.Action("addDishToDB")",
                        success: function (msg) {
                            Swal.fire({
                                title: "Erfolgreich!",
                                text: "Das Gericht wurde erfolgreich in der Datenbank hinterlegt",
                                icon: "success"
                            });
                        },
                        error: function (msg) {
                            Swal.fire({
                                title: "Error",
                                text: "Da ist ein Fehler passiert",
                                icon: "error"
                            });
                        }
                    });
                }
            });
        }


    </script>
}